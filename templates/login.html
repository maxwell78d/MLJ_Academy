<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>mljAcademy</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
  <script defer src="{{ url_for('static', filename='anim.js') }}"></script>
</head>
<body>

  <!-- 游 PANTALLA DE BIENVENIDA -->
  <section class="hero">
    <div class="overlay"></div>
    <div class="hero-content">
      <h1>Bienvenido a <span>mljAcademy</span></h1>
      <p>Tu plataforma para aprender, crecer y transformar el futuro digital.</p>
      <p>Explora nuestros cursos, impulsa tus habilidades y 칰nete a una comunidad apasionada por la tecnolog칤a.</p>
      <button onclick="window.scrollTo({ top: window.innerHeight, behavior: 'smooth' });">
        Iniciar sesi칩n o registrarse
      </button>
    </div>
  </section>

  <!-- 游눹 SECCI칍N LOGIN / REGISTER (ESTILO CUBEFACTORY) -->
  <section class="login-section">
    <div class="login-container container">
      
      <!-- Panel izquierdo: formulario -->
      <div class="form-panel fade-element">
        <div class="logo">mljAcademy</div>

        <div class="form-content">
          <p class="subtitle">Ingresa tus datos para continuar</p>

          <!-- Pesta침as Login / Registro -->
          <div class="tab-buttons">
            <button class="tab-btn active" type="button" onclick="showTab('login', this)">Login</button>
            <button class="tab-btn" type="button" onclick="showTab('signup', this)">Registro</button>
          </div>

          <!-- Formulario de Login -->
          <form id="login" class="form active" method="POST" action="{{ url_for('login') }}">
            <h2>Inicia sesi칩n</h2>
            <p class="form-subtitle">Ingresa tus credenciales para acceder.</p>

            <div class="input-group">
              <label for="correo">Correo electr칩nico</label>
              <input type="email" id="correo" name="correo" required>
            </div>

            <div class="input-group">
              <label for="password">Contrase침a</label>
              <input type="password" id="password" name="contrase침a" required>
            </div>

            <div class="options">
              <label class="remember-me">
                <input type="checkbox" name="remember">
                Recordarme por 30 d칤as
              </label>
              <!-- Cambia el href cuando tengas la ruta de recuperaci칩n -->
              <a href="{{ url_for('recuperar') }}" class="forgot-password">쯆lvidaste tu contrase침a?</a>
            </div>

            {% if error %}
            <p class="error">{{ error }}</p>
            {% endif %}

            <button type="submit" class="sign-in-button">Entrar</button>

            <p class="signup-link">
              쯅o tienes una cuenta?
              <a href="javascript:void(0);" onclick="showTab('signup')">Reg칤strate</a>
            </p>
          </form>

          <!-- Formulario de Registro -->
          <form id="signup" class="form" method="POST" action="{{ url_for('registro') }}">
            <h2>Reg칤strate</h2>
            <p class="form-subtitle">Crea tu cuenta y comienza a aprender.</p>

            <div class="input-group">
              <label for="nombre">Nombre completo</label>
              <input type="text" id="nombre" name="nombre" required>
            </div>

            <div class="input-group">
              <label for="correo-registro">Correo electr칩nico</label>
              <input type="email" id="correo-registro" name="correo" required>
            </div>

            <div class="input-group">
              <label for="password-registro">Contrase침a</label>
              <input type="password" id="password-registro" name="contrase침a" required>
            </div>

            <button type="submit" class="sign-in-button">Crear cuenta</button>

            <p class="signup-link">
              쯏a tienes una cuenta?
              <a href="javascript:void(0);" onclick="showTab('login')">Inicia sesi칩n</a>
            </p>
          </form>
        </div>
      </div>

      <!-- Panel derecho: imagen tipo CubeFactory -->
      <div class="image-panel fade-element">
        <div class="image-overlay">
          <h1>Impulsa tu futuro digital.</h1>
          <p>Accede a cursos y recursos tecnol칩gicos gratuitos para transformar tu vida.</p>
        </div>
      </div>

    </div>
  </section>

  <script>
    // Cambio de pesta침as Login / Registro
    function showTab(tab, button) {
      const forms = document.querySelectorAll(".form");
      const buttons = document.querySelectorAll(".tab-btn");

      forms.forEach(f => f.classList.remove("active"));
      buttons.forEach(b => b.classList.remove("active"));

      const form = document.getElementById(tab);
      if (form) form.classList.add("active");

      // Si viene desde el bot칩n de arriba
      if (button) {
        button.classList.add("active");
      } else {
        // Si viene desde los enlaces dentro del formulario
        const index = tab === "login" ? 0 : 1;
        if (buttons[index]) buttons[index].classList.add("active");
      }
    }

    // Animaci칩n con scroll (manteniendo tu l칩gica)
    window.addEventListener("scroll", () => {
      const hero = document.querySelector(".hero");
      const container = document.querySelector(".container");
      const fadeElements = document.querySelectorAll(".fade-element");

      // Desvanecer la pantalla de bienvenida
      if (window.scrollY > window.innerHeight / 3) {
        hero.classList.add("fade-out");
      } else {
        hero.classList.remove("fade-out");
      }

      // Mostrar login gradualmente
      if (container) {
        const rect = container.getBoundingClientRect();
        if (rect.top < window.innerHeight - 100) {
          container.classList.add("visible");
        }
      }

      fadeElements.forEach(el => {
        const position = el.getBoundingClientRect().top;
        if (position < window.innerHeight - 100) {
          el.classList.add("visible");
        }
      });
    });
  </script>

</body>
</html>